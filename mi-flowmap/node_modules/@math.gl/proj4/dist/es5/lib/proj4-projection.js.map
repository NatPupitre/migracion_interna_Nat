{"version":3,"sources":["../../../src/lib/proj4-projection.ts"],"names":["Proj4Projection","from","to","_projection","Error","project","bind","unproject","coord","forward","inverse","aliases","aliasArray","alias","push","proj4","defs"],"mappings":";;;;;;;;;;;;;;;AAAA;;IAEaA,e;AAYX,iCAA4C;AAAA,yBAA/BC,IAA+B;AAAA,QAA/BA,IAA+B,0BAAxB,OAAwB;AAAA,uBAAfC,EAAe;AAAA,QAAfA,EAAe,wBAAV,OAAU;AAAA;AAAA;AAC1C,SAAKC,WAAL,GAAmB,mBAAMF,IAAN,EAAYC,EAAZ,CAAnB;;AACA,QAAI,CAAC,KAAKC,WAAV,EAAuB;AACrB,YAAM,IAAIC,KAAJ,CAAU,oBAAV,CAAN;AACD;;AACD,SAAKC,OAAL,GAAe,KAAKA,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAf;AACA,SAAKC,SAAL,GAAiB,KAAKA,SAAL,CAAeD,IAAf,CAAoB,IAApB,CAAjB;AACD;;;;WAGD,iBAAQE,KAAR,EAAmC;AACjC,aAAO,KAAKL,WAAL,CAAiBM,OAAjB,CAAyBD,KAAzB,CAAP;AACD;;;WAED,mBAAUA,KAAV,EAAqC;AACnC,aAAO,KAAKL,WAAL,CAAiBO,OAAjB,CAAyBF,KAAzB,CAAP;AACD;;;WA1BD,iCAA+BG,OAA/B,EAAwE;AACtE,UAAMC,UAAU,GAAG,EAAnB;;AACA,WAAK,IAAMC,KAAX,IAAoBF,OAApB,EAA6B;AAC3BC,QAAAA,UAAU,CAACE,IAAX,CAAgB,CAACD,KAAD,EAAQF,OAAO,CAACE,KAAD,CAAf,CAAhB;AACD;;AACDE,oBAAMC,IAAN,CAAWJ,UAAX;AACD","sourcesContent":["import proj4 from 'proj4';\n\nexport class Proj4Projection {\n  /** Define aliases for one or more projections */\n  static defineProjectionAliases(aliases: {[name: string]: string}): void {\n    const aliasArray = [];\n    for (const alias in aliases) {\n      aliasArray.push([alias, aliases[alias]]);\n    }\n    proj4.defs(aliasArray);\n  }\n\n  private _projection: proj4.Converter;\n\n  constructor({from = 'WGS84', to = 'WGS84'}) {\n    this._projection = proj4(from, to);\n    if (!this._projection) {\n      throw new Error('Invalid projection');\n    }\n    this.project = this.project.bind(this);\n    this.unproject = this.unproject.bind(this);\n  }\n\n  /** Project a coordinate project from first to second coordinate system */\n  project(coord: number[]): number[] {\n    return this._projection.forward(coord);\n  }\n  /** Project a coordinate project from second to first coordinate system */\n  unproject(coord: number[]): number[] {\n    return this._projection.inverse(coord);\n  }\n}\n"],"file":"proj4-projection.js"}