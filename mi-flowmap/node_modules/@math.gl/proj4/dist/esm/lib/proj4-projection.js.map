{"version":3,"sources":["../../../src/lib/proj4-projection.ts"],"names":["proj4","Proj4Projection","defineProjectionAliases","aliases","aliasArray","alias","push","defs","constructor","from","to","_projection","Error","project","bind","unproject","coord","forward","inverse"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,eAAN,CAAsB;AAEG,SAAvBC,uBAAuB,CAACC,OAAD,EAA0C;AACtE,UAAMC,UAAU,GAAG,EAAnB;;AACA,SAAK,MAAMC,KAAX,IAAoBF,OAApB,EAA6B;AAC3BC,MAAAA,UAAU,CAACE,IAAX,CAAgB,CAACD,KAAD,EAAQF,OAAO,CAACE,KAAD,CAAf,CAAhB;AACD;;AACDL,IAAAA,KAAK,CAACO,IAAN,CAAWH,UAAX;AACD;;AAIDI,EAAAA,WAAW,CAAC;AAACC,IAAAA,IAAI,GAAG,OAAR;AAAiBC,IAAAA,EAAE,GAAG;AAAtB,GAAD,EAAiC;AAAA;;AAC1C,SAAKC,WAAL,GAAmBX,KAAK,CAACS,IAAD,EAAOC,EAAP,CAAxB;;AACA,QAAI,CAAC,KAAKC,WAAV,EAAuB;AACrB,YAAM,IAAIC,KAAJ,CAAU,oBAAV,CAAN;AACD;;AACD,SAAKC,OAAL,GAAe,KAAKA,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAf;AACA,SAAKC,SAAL,GAAiB,KAAKA,SAAL,CAAeD,IAAf,CAAoB,IAApB,CAAjB;AACD;;AAGDD,EAAAA,OAAO,CAACG,KAAD,EAA4B;AACjC,WAAO,KAAKL,WAAL,CAAiBM,OAAjB,CAAyBD,KAAzB,CAAP;AACD;;AAEDD,EAAAA,SAAS,CAACC,KAAD,EAA4B;AACnC,WAAO,KAAKL,WAAL,CAAiBO,OAAjB,CAAyBF,KAAzB,CAAP;AACD;;AA5B0B","sourcesContent":["import proj4 from 'proj4';\n\nexport class Proj4Projection {\n  /** Define aliases for one or more projections */\n  static defineProjectionAliases(aliases: {[name: string]: string}): void {\n    const aliasArray = [];\n    for (const alias in aliases) {\n      aliasArray.push([alias, aliases[alias]]);\n    }\n    proj4.defs(aliasArray);\n  }\n\n  private _projection: proj4.Converter;\n\n  constructor({from = 'WGS84', to = 'WGS84'}) {\n    this._projection = proj4(from, to);\n    if (!this._projection) {\n      throw new Error('Invalid projection');\n    }\n    this.project = this.project.bind(this);\n    this.unproject = this.unproject.bind(this);\n  }\n\n  /** Project a coordinate project from first to second coordinate system */\n  project(coord: number[]): number[] {\n    return this._projection.forward(coord);\n  }\n  /** Project a coordinate project from second to first coordinate system */\n  unproject(coord: number[]): number[] {\n    return this._projection.inverse(coord);\n  }\n}\n"],"file":"proj4-projection.js"}