import { AggregateFlow, Cluster, ClusterLevels, ClusterNode, FlowAccessors, FlowCountsMapReduce } from './../types';
export type LocationWeightGetter = (id: string | number) => number;
/**
 * A data structure representing the cluster levels for efficient flow aggregation.
 */
export interface ClusterIndex<F> {
    availableZoomLevels: number[];
    getClusterById: (clusterId: string | number) => Cluster | undefined;
    /**
     * List the nodes on the given zoom level.
     */
    getClusterNodesFor: (zoom: number | undefined) => ClusterNode[] | undefined;
    /**
     * Get the min zoom level on which the location is not clustered.
     */
    getMinZoomForLocation: (locationId: string | number) => number;
    /**
     * List the IDs of all locations in the cluster (leaves of the subtree starting in the cluster).
     */
    expandCluster: (cluster: Cluster, targetZoom?: number) => string[];
    /**
     * Find the cluster the given location is residing in on the specified zoom level.
     */
    findClusterFor: (locationId: string | number, zoom: number) => string | number | undefined;
    /**
     * Aggregate flows for the specified zoom level.
     */
    aggregateFlows: (flows: F[], zoom: number, { getFlowOriginId, getFlowDestId, getFlowMagnitude }: FlowAccessors<F>, options?: {
        flowCountsMapReduce?: FlowCountsMapReduce<F>;
    }) => (F | AggregateFlow)[];
}
/**
 * Build ClusterIndex from the given cluster hierarchy
 */
export declare function buildIndex<F>(clusterLevels: ClusterLevels): ClusterIndex<F>;
export declare function makeLocationWeightGetter<F>(flows: F[], { getFlowOriginId, getFlowDestId, getFlowMagnitude }: FlowAccessors<F>): LocationWeightGetter;
/**
 * @param availableZoomLevels Must be sorted in ascending order
 * @param targetZoom
 */
export declare function findAppropriateZoomLevel(availableZoomLevels: number[], targetZoom: number): number;
//# sourceMappingURL=ClusterIndex.d.ts.map