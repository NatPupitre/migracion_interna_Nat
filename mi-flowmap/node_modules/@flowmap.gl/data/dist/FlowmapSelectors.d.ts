import { ScaleLinear } from 'd3-scale';
import { ParametricSelector } from 'reselect';
import FlowmapAggregateAccessors from './FlowmapAggregateAccessors';
import { FlowmapState } from './FlowmapState';
import { ClusterIndex, LocationWeightGetter } from './cluster/ClusterIndex';
import { ColorsRGBA, DiffColorsRGBA } from './colors';
import { TimeGranularityKey } from './time';
import { AggregateFlow, Cluster, ClusterLevels, ClusterNode, CountByTime, FlowCirclesLayerAttributes, FlowLinesLayerAttributes, FlowmapData, FlowmapDataAccessors, LayersData, LocationFilterMode, LocationTotals } from './types';
type KDBushTree = any;
export type Selector<L, F, T> = ParametricSelector<FlowmapState, FlowmapData<L, F>, T>;
export default class FlowmapSelectors<L extends Record<string, any>, F extends Record<string, any>> {
    accessors: FlowmapAggregateAccessors<L, F>;
    constructor(accessors: FlowmapDataAccessors<L, F>);
    setAccessors(accessors: FlowmapDataAccessors<L, F>): void;
    getAggregateAccessors(): FlowmapAggregateAccessors<L, F>;
    getFlowsFromProps: (state: FlowmapState, props: FlowmapData<L, F>) => Iterable<F> | undefined;
    getLocationsFromProps: (state: FlowmapState, props: FlowmapData<L, F>) => Iterable<L> | undefined;
    getClusterLevelsFromProps: (state: FlowmapState, props: FlowmapData<L, F>) => ClusterLevels | undefined;
    getMaxTopFlowsDisplayNum: (state: FlowmapState, props: FlowmapData<L, F>) => number;
    getSelectedLocations: (state: FlowmapState, props: FlowmapData<L, F>) => (string | number)[] | undefined;
    getLocationFilterMode: (state: FlowmapState, props: FlowmapData<L, F>) => LocationFilterMode | undefined;
    getClusteringEnabled: (state: FlowmapState, props: FlowmapData<L, F>) => boolean;
    getLocationTotalsEnabled: (state: FlowmapState, props: FlowmapData<L, F>) => boolean;
    getLocationLabelsEnabled: (state: FlowmapState, props: FlowmapData<L, F>) => boolean;
    getZoom: (state: FlowmapState, props: FlowmapData<L, F>) => number | undefined;
    getViewport: (state: FlowmapState, props: FlowmapData<L, F>) => import("./types").ViewportProps;
    getSelectedTimeRange: (state: FlowmapState, props: FlowmapData<L, F>) => [Date, Date] | undefined;
    getColorScheme: Selector<L, F, string | string[] | undefined>;
    getDarkMode: Selector<L, F, boolean>;
    getFadeEnabled: Selector<L, F, boolean>;
    getFadeOpacityEnabled: Selector<L, F, boolean>;
    getFadeAmount: Selector<L, F, number>;
    getAnimate: Selector<L, F, boolean>;
    getInvalidLocationIds: Selector<L, F, (string | number)[] | undefined>;
    getLocations: Selector<L, F, Iterable<L> | undefined>;
    getLocationIds: Selector<L, F, Set<string | number> | undefined>;
    getSelectedLocationsSet: Selector<L, F, Set<string | number> | undefined>;
    getSortedFlowsForKnownLocations: Selector<L, F, F[] | undefined>;
    getActualTimeExtent: Selector<L, F, [Date, Date] | undefined>;
    getTimeGranularityKey: Selector<L, F, TimeGranularityKey | undefined>;
    getTimeExtent: Selector<L, F, [Date, Date] | undefined>;
    getSortedFlowsForKnownLocationsFilteredByTime: Selector<L, F, F[] | undefined>;
    getLocationsHavingFlows: Selector<L, F, Iterable<L> | undefined>;
    getLocationsById: Selector<L, F, Map<string | number, L> | undefined>;
    getLocationWeightGetter: Selector<L, F, LocationWeightGetter | undefined>;
    getClusterLevels: Selector<L, F, ClusterLevels | undefined>;
    getClusterIndex: Selector<L, F, ClusterIndex<F> | undefined>;
    getAvailableClusterZoomLevels: ((state: FlowmapState, params_0: FlowmapData<L, F>, ...params_1: unknown[]) => number[] | undefined) & import("reselect").OutputSelectorFields<(args_0: ClusterIndex<F> | undefined, args_1: (string | number)[] | undefined) => number[] | undefined, {
        clearCache: () => void;
    }> & {
        clearCache: () => void;
    };
    _getClusterZoom: Selector<L, F, number | undefined>;
    getClusterZoom: (state: FlowmapState, props: FlowmapData<L, F>) => number | undefined;
    getLocationsForSearchBox: Selector<L, F, (L | Cluster)[] | undefined>;
    getDiffMode: Selector<L, F, boolean>;
    _getFlowmapColors: ((state: FlowmapState, params_0: FlowmapData<L, F>, ...params_1: unknown[]) => import("./colors").DiffColors | import("./colors").Colors) & import("reselect").OutputSelectorFields<(args_0: boolean, args_1: string | string[] | undefined, args_2: boolean, args_3: boolean, args_4: boolean, args_5: number, args_6: boolean) => import("./colors").DiffColors | import("./colors").Colors, {
        clearCache: () => void;
    }> & {
        clearCache: () => void;
    };
    getFlowmapColorsRGBA: ((state: FlowmapState, params_0: FlowmapData<L, F>, ...params_1: unknown[]) => ColorsRGBA | DiffColorsRGBA) & import("reselect").OutputSelectorFields<(args_0: import("./colors").DiffColors | import("./colors").Colors) => ColorsRGBA | DiffColorsRGBA, {
        clearCache: () => void;
    }> & {
        clearCache: () => void;
    };
    getUnknownLocations: Selector<L, F, Set<string | number> | undefined>;
    getSortedAggregatedFilteredFlows: Selector<L, F, (F | AggregateFlow)[] | undefined>;
    getExpandedSelectedLocationsSet: Selector<L, F, Set<string | number> | undefined>;
    getTotalCountsByTime: Selector<L, F, CountByTime[] | undefined>;
    getMaxLocationCircleSize: Selector<L, F, number>;
    getViewportBoundingBox: Selector<L, F, [number, number, number, number]>;
    getLocationsForZoom: Selector<L, F, Iterable<L> | ClusterNode[] | undefined>;
    getLocationTotals: Selector<L, F, Map<string | number, LocationTotals> | undefined>;
    getLocationsTree: Selector<L, F, KDBushTree>;
    _getLocationIdsInViewport: Selector<L, F, Set<string> | undefined>;
    getLocationIdsInViewport: Selector<L, F, Set<string | number> | undefined>;
    getTotalUnfilteredCount: Selector<L, F, number | undefined>;
    getTotalFilteredCount: Selector<L, F, number | undefined>;
    _getLocationTotalsExtent: Selector<L, F, [number, number] | undefined>;
    _getLocationTotalsForViewportExtent: Selector<L, F, [
        number,
        number
    ] | undefined>;
    getLocationTotalsExtent: (state: FlowmapState, props: FlowmapData<L, F>) => [number, number] | undefined;
    getFlowsForFlowmapLayer: Selector<L, F, (F | AggregateFlow)[] | undefined>;
    _getFlowMagnitudeExtent: Selector<L, F, [number, number] | undefined>;
    _getAdaptiveFlowMagnitudeExtent: Selector<L, F, [
        number,
        number
    ] | undefined>;
    getFlowMagnitudeExtent: (state: FlowmapState, props: FlowmapData<L, F>) => [number, number] | undefined;
    getLocationMaxAbsTotalGetter: ((state: FlowmapState, params_0: FlowmapData<L, F>, ...params_1: unknown[]) => (locationId: string) => number | undefined) & import("reselect").OutputSelectorFields<(args_0: Map<string | number, LocationTotals> | undefined) => (locationId: string) => number | undefined, {
        clearCache: () => void;
    }> & {
        clearCache: () => void;
    };
    getFlowThicknessScale: ((state: FlowmapState, props: FlowmapData<L, F>) => ScaleLinear<number, number, never> | undefined) & import("reselect").OutputSelectorFields<(args_0: [number, number] | undefined) => ScaleLinear<number, number, never> | undefined, {
        clearCache: () => void;
    }> & {
        clearCache: () => void;
    };
    getCircleSizeScale: ((state: FlowmapState, params_0: FlowmapData<L, F>, ...params_1: unknown[]) => import("d3-scale").ScalePower<number, number, never> | (() => number) | undefined) & import("reselect").OutputSelectorFields<(args_0: number, args_1: boolean, args_2: [number, number] | undefined) => import("d3-scale").ScalePower<number, number, never> | (() => number) | undefined, {
        clearCache: () => void;
    }> & {
        clearCache: () => void;
    };
    getInCircleSizeGetter: ((state: FlowmapState, params_0: FlowmapData<L, F>, ...params_1: unknown[]) => (locationId: string | number) => number) & import("reselect").OutputSelectorFields<(args_0: import("d3-scale").ScalePower<number, number, never> | (() => number) | undefined, args_1: Map<string | number, LocationTotals> | undefined) => (locationId: string | number) => number, {
        clearCache: () => void;
    }> & {
        clearCache: () => void;
    };
    getOutCircleSizeGetter: ((state: FlowmapState, params_0: FlowmapData<L, F>, ...params_1: unknown[]) => (locationId: string | number) => number) & import("reselect").OutputSelectorFields<(args_0: import("d3-scale").ScalePower<number, number, never> | (() => number) | undefined, args_1: Map<string | number, LocationTotals> | undefined) => (locationId: string | number) => number, {
        clearCache: () => void;
    }> & {
        clearCache: () => void;
    };
    getSortedLocationsForZoom: Selector<L, F, L[] | ClusterNode[] | undefined>;
    getLocationsForFlowmapLayer: Selector<L, F, Array<L | ClusterNode> | undefined>;
    getLocationsForFlowmapLayerById: Selector<L, F, Map<string, L | ClusterNode> | undefined>;
    getLocationOrClusterByIdGetter: ((state: FlowmapState, params_0: FlowmapData<L, F>, ...params_1: unknown[]) => (id: string | number) => Cluster | L | undefined) & import("reselect").OutputSelectorFields<(args_0: ClusterIndex<F> | undefined, args_1: Map<string | number, L> | undefined) => (id: string | number) => Cluster | L | undefined, {
        clearCache: () => void;
    }> & {
        clearCache: () => void;
    };
    getLayersData: Selector<L, F, LayersData>;
    prepareLayersData(state: FlowmapState, props: FlowmapData<L, F>): LayersData;
    _prepareLayersData(locations: (L | ClusterNode)[] | undefined, flows: (F | AggregateFlow)[] | undefined, flowmapColors: DiffColorsRGBA | ColorsRGBA, locationsById: Map<string | number, L | ClusterNode> | undefined, locationIdsInViewport: Set<string | number> | undefined, getInCircleSize: (locationId: string | number) => number, getOutCircleSize: (locationId: string | number) => number, flowThicknessScale: ScaleLinear<number, number, never> | undefined, animationEnabled: boolean, locationLabelsEnabled: boolean): LayersData;
    getLocationsInBbox(tree: KDBushTree, bbox: [number, number, number, number]): Array<L> | undefined;
    _getLocationsInBboxIndices(tree: KDBushTree, bbox: [number, number, number, number]): any;
    isFlowInSelection(flow: F | AggregateFlow, selectedLocationsSet: Set<string | number> | undefined, locationFilterMode?: LocationFilterMode): boolean;
}
/**
 * This is used to augment hover picking info so that we can displace location tooltip
 * @param circleAttributes
 * @param index
 */
export declare function getOuterCircleRadiusByIndex(circleAttributes: FlowCirclesLayerAttributes, index: number): number;
export declare function getLocationCoordsByIndex(circleAttributes: FlowCirclesLayerAttributes, index: number): [number, number];
export declare function getFlowLineAttributesByIndex(lineAttributes: FlowLinesLayerAttributes, index: number): FlowLinesLayerAttributes;
export {};
//# sourceMappingURL=FlowmapSelectors.d.ts.map